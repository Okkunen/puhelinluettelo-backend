{"version":3,"sources":["components/Person.js","components/Persons.js","components/Filter.js","services/Persons.js","App.js","index.js"],"names":["Person","person","deletePerson","name","number","onClick","Persons","persons","deletePersonHandler","map","i","key","id","Filter","newFilter","handler","value","onChange","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setNewFilter","useEffect","personService","initialPersons","personsToShow","filter","toLowerCase","includes","event","console","log","target","onSubmit","preventDefault","some","window","confirm","personToUpdate","find","changedPerson","returnedPerson","p","concat","type","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.74b9f3d2.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({ person, deletePerson }) => {\r\n  return (\r\n    <div>\r\n      <p>{person.name} {person.number}</p>\r\n      <button onClick={deletePerson}>delete</button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({ persons, deletePersonHandler }) => {\r\n  return (\r\n    <div>\r\n\t\t\t\t{persons.map((person, i) =>\r\n\t\t\t\t\t<Person key={person.name} person={person} deletePerson={() => deletePersonHandler(person.id)}/>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n  )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Filter = ({ newFilter, handler }) => {\r\n  return (\r\n    <div>\r\n      Filter shown with <input value={newFilter} onChange={handler} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import axios from 'axios'\r\nconst baseUrl = '/api/notes'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`, id)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { \r\n  getAll: getAll, \r\n  create: create, \r\n  update: update, \r\n  deletePerson: deletePerson\r\n}","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport personService from './services/Persons'\nimport './App.css'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n\n  useEffect(() => {\n\t\tpersonService\n\t\t\t.getAll()\n\t\t\t.then(initialPersons => {\n\t\t\t\tsetPersons(initialPersons)\n\t\t\t})\n\t}, [])\n\n  const addName = (event) => {\n    console.log(event)\n    event.preventDefault()\n    let nameIsDuplicate = persons.some( person => person.name === newName )\n\n    if (nameIsDuplicate) {\n      const r = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\n      if (r) {\n        const personToUpdate = persons.find(person => person.name === newName)\n        const changedPerson = { ...personToUpdate, number: newNumber }\n    \n        personService\n          .update(personToUpdate.id, changedPerson)\n          .then(returnedPerson => {        \n            setPersons(persons.map(p => p.id !== personToUpdate.id ? p : changedPerson))\n          })\n      }\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n      personService\n\t\t\t.create(personObject)\n\t\t\t.then(returnedPerson => {        \n\t\t\t\tsetPersons(persons.concat(returnedPerson))\n        setNewName('')\n        setNewNumber('')\n\t\t\t})\n    }\n  }\n\n  const deletePersonHandler = id => {\n\t\tpersonService\n      .deletePerson(id)\n      .then(() => {        \n\t\t\t\tsetPersons(persons.filter(person => person.id !== id))\n\t\t\t})\n\t}\n\n\tconst handleNameChange = (event) => {\n\t\tconsole.log(event.target.value)\n\t\tsetNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n\t\tconsole.log(event.target.value)\n\t\tsetNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n\t\tconsole.log(event.target.value)\n\t\tsetNewFilter(event.target.value)\n  }\n\n  \n  const personsToShow = persons.filter(person => person.name.toLowerCase().includes(newFilter))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter newFilter={newFilter} handler={handleFilterChange}/>\n      \n      <h2>Add new</h2>\n      <form onSubmit={addName}>\n        <div>\n          name: <input value={newName} onChange={handleNameChange}/>\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={handleNumberChange}/>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n      <Persons persons={personsToShow} deletePersonHandler={deletePersonHandler}/>\n    </div>\n  )\n\n}\n\n\n\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}